<!--index.wxml-->
<view class="container">
  <view wx:if="{{!hasHotel}}">
    <view>你还没有添加宾馆，请到我的页面添加宾馆(此处应该有剪头指向右下角)</view>
  </view>
  <view wx:else>
    <view class="top">
      <view>{{hotel.name}}</view>
      <picker mode="date" value="{{date}}" bindchange="dateChange" >
            <view>{{date}}</view>
      </picker>
    </view>
    
    <view wx:for="{{rooms}}" wx:key="roomId" class="room">
      <block wx:if="{{item.status==1}}">
        <view class='topInRoom, reserveBackColor'>
          <view class='no'>{{item.roomNo}}</view>
          <view class='type'>{{item.roomTypeName}}</view>
          <view class="status">--已预定</view>
          <navigator class='detail' url="/pages/status/status?id={{item.id}}&roomId={{item.roomId}}&date={{date}}">详细</navigator>
        </view>
        <block wx:for="{{item.guests}}" wx:for-item="guest" wx:key="id">
          <view class='infoInRoom'>
            <view class='beforeLast'>{{guest.name}}</view>
            <!--<view>{{guest.certTypeName}}:{{guest.certId}}</view>-->
            <view>手机号:{{guest.mobile}}</view>
          </view>
        </block>
        <view class='infoInRoom'>
            <view>预计到店时间:{{item.planedCheckinTime}}</view>
        </view>
      </block>
      <block wx:elif="{{item.status==2}}">
        <view class='topInRoom, checkinBackColor'>
          <view class='no'>{{item.roomNo}}</view>
          <view class='type'>{{item.roomTypeName}}</view>
          <view class="status">--已入住</view>
          <navigator class='detail' url="/pages/status/status?id={{item.id}}&roomId={{item.roomId}}&date={{date}}">详细</navigator>
        </view>
        <block wx:for="{{item.guests}}" wx:for-item="guest" wx:key="id">
          <view class='infoInRoom'>
            <view class='beforeLast'>{{guest.name}}</view>
            <view>手机号:{{guest.mobile}}</view>
          </view>
        </block>
        <view class='infoInRoom'>
          <view>预计离店时间:{{item.planedCheckoutTime}}</view>
        </view>
        <view class='infoInRoom'>
          <view>押金:{{item.deposit}}</view>
        </view>
      </block>
      <block wx:else>
        <view class='topInRoom, noCheckBackColor'>
          <view class='no'>{{item.roomNo}}</view>
          <view class='type'>{{item.roomTypeName}}</view>
          <view class="status">--在空着</view>
          <navigator class='detail' url="/pages/status/status?id={{item.id}}&roomId={{item.roomId}}&date={{date}}">详细</navigator>
        </view>
      </block>
    </view>
  </view>
</view>